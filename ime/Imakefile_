#include <Server.tmpl>

#if HasShm
SHMDEF = -DHAS_SHM
#endif

MMAPDEF = -DHAS_MMAP

SRCS =	FrameMgr.c \
	IMValues.c \
	i18nIMProto.c \
	i18nPtHdr.c \
	i18nX.c \
	IMConn.c \
	i18nAttr.c \
	i18nIc.c \
	IMMethod.c \
	i18nClbk.c \
	i18nMethod.c \
	i18nTr.c \
	i18nUtil.c

OBJS =	FrameMgr.o \
	IMValues.o \
	i18nIMProto.o \
	i18nPtHdr.o \
	i18nX.o \
	IMConn.o \
	i18nAttr.o \
	i18nIc.o \
	IMMethod.o \
	i18nClbk.o \
	i18nMethod.o \
	i18nTr.o \
	i18nUtil.o

INCLUDES = -I. -I$(XBUILDINCDIR) -I$(FONTINCSRC) \
	   -I$(SERVERSRC)/fb -I$(SERVERSRC)/mi \
	   -I$(SERVERSRC)/miext/shadow -I$(SERVERSRC)/miext/layer \
	   -I$(SERVERSRC)/include -I$(SERVERSRC)/os  \
           -I$(EXTINCSRC) -I$(XINCLUDESRC) \
	   -I$(SERVERSRC)/render -I$(SERVERSRC)/randr

DEFINES = $(OS_DEFINES) $(SHMDEF) $(MMAPDEF) -UXFree86LOADER -UXF86DRI \
          -DPROJECTROOT="\"$(PROJECTROOT)\""

NormalLibraryObjectRule()
NormalLibraryTarget(Ximd,$(OBJS))

DependTarget()
